# Common Environmental Variables File
# Designed to be shared among different shells and computers
#
# Author: David Terei

if [ -z "$TMUX" ] ; then
	export TERM=xterm-256color
fi

export EDITOR="vim"
export SVN_EDITOR="vim"
export VISUAL="vim"
export VIEWER="less"
export HOSTNAME="`hostname`"

# colour grep results
export GREP_OPTIONS='--color=auto'
export GREP_COLOR='1;32'

# Set tmpdir if not set
if [ -z "$TMPDIR" ] ; then
	if [ -n "$TEMPDIR" ] ; then
		export TMPDIR=$TEMPDIR	
	elif [ -n "$TMP" ] ; then
		export TMPDIR=$TMP
	else
		export TMPDIR=/tmp
	fi
fi

# set maildrop location
MAILFOLDER=~/.Mail
if [ -d "${MAILFOLDER}" ]; then
	export MAILDROP="${MAILFOLDER}/incoming-mail"
	export MAIL="${MAILFOLDER}/incoming-mail"
fi

# default GHC Home
export GHCHOME=$HOME/Ghc

# GHC Dev
GHCDEV=$GHCHOME/ghc-current/inplace/bin
if [ -d $GHCDEV ] ; then
	export GHCDEV=$GHCDEV
	export GHCDEVBIN=$GHCDEV/ghc-stage2
	export GHCDEVPKG=$GHCDEV/ghc-pkg
fi

# Cabal bin
if [ -d ~/.cabal/bin/ ] ; then
	export PATH=~/.cabal/bin:${PATH}
fi

# Brew
if [ "$OSTYPE" = "darwin12.0" ] ; then
	if [ -d /usr/local/bin ] ; then
		export PATH=/usr/local/bin:/usr/local/sbin:${PATH}
	fi
fi

# Load RVM into a shell session *as a function*
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"
if [ -d "$HOME/.rvm/bin" ] ; then
	export PATH=$PATH:$HOME/.rvm/bin
fi

# GHC GVM manager
if [ -d ~/.gvm/bin/ ] ; then
	export PATH=~/.gvm/bin:${PATH}
fi

# AWS Tools
if [ -d ~/Software/ec2-api-tools-1.6.1.2/ ] ; then
	export EC2_HOME=~/Software/ec2-api-tools-1.6.1.2
	export PATH=${EC2_HOME}/bin:${PATH}
fi
if [ -f ~/.aws_credentials ] ; then
	source ~/.aws_credentials
fi

# Heroku
if [ -d /usr/local/heroku/bin/ ] ; then
	export PATH=/usr/local/heroku/bin:${PATH}
fi

if [ -z "${JAVA_HOME}" ] ; then
	export JAVA_HOME=/usr
fi

# set PATH so it includes user's private bin if it exists
if [ -d ~/Development/bin ] ; then
	export PATH=~/Development/bin:${PATH}
fi

if [ -d ~/.scripts ] ; then
	export PATH=~/.scripts:${PATH}
fi

if [ -d ~/bin ] ; then
	export PATH=~/bin:${PATH}
fi

